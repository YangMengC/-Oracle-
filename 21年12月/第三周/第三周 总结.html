<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title></title>
  <style>
  @font-face {
  font-family: octicons-link;
  src: url(data:font/woff;charset=utf-8;base64,d09GRgABAAAAAAZwABAAAAAACFQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABEU0lHAAAGaAAAAAgAAAAIAAAAAUdTVUIAAAZcAAAACgAAAAoAAQAAT1MvMgAAAyQAAABJAAAAYFYEU3RjbWFwAAADcAAAAEUAAACAAJThvmN2dCAAAATkAAAABAAAAAQAAAAAZnBnbQAAA7gAAACyAAABCUM+8IhnYXNwAAAGTAAAABAAAAAQABoAI2dseWYAAAFsAAABPAAAAZwcEq9taGVhZAAAAsgAAAA0AAAANgh4a91oaGVhAAADCAAAABoAAAAkCA8DRGhtdHgAAAL8AAAADAAAAAwGAACfbG9jYQAAAsAAAAAIAAAACABiATBtYXhwAAACqAAAABgAAAAgAA8ASm5hbWUAAAToAAABQgAAAlXu73sOcG9zdAAABiwAAAAeAAAAME3QpOBwcmVwAAAEbAAAAHYAAAB/aFGpk3jaTY6xa8JAGMW/O62BDi0tJLYQincXEypYIiGJjSgHniQ6umTsUEyLm5BV6NDBP8Tpts6F0v+k/0an2i+itHDw3v2+9+DBKTzsJNnWJNTgHEy4BgG3EMI9DCEDOGEXzDADU5hBKMIgNPZqoD3SilVaXZCER3/I7AtxEJLtzzuZfI+VVkprxTlXShWKb3TBecG11rwoNlmmn1P2WYcJczl32etSpKnziC7lQyWe1smVPy/Lt7Kc+0vWY/gAgIIEqAN9we0pwKXreiMasxvabDQMM4riO+qxM2ogwDGOZTXxwxDiycQIcoYFBLj5K3EIaSctAq2kTYiw+ymhce7vwM9jSqO8JyVd5RH9gyTt2+J/yUmYlIR0s04n6+7Vm1ozezUeLEaUjhaDSuXHwVRgvLJn1tQ7xiuVv/ocTRF42mNgZGBgYGbwZOBiAAFGJBIMAAizAFoAAABiAGIAznjaY2BkYGAA4in8zwXi+W2+MjCzMIDApSwvXzC97Z4Ig8N/BxYGZgcgl52BCSQKAA3jCV8CAABfAAAAAAQAAEB42mNgZGBg4f3vACQZQABIMjKgAmYAKEgBXgAAeNpjYGY6wTiBgZWBg2kmUxoDA4MPhGZMYzBi1AHygVLYQUCaawqDA4PChxhmh/8ODDEsvAwHgMKMIDnGL0x7gJQCAwMAJd4MFwAAAHjaY2BgYGaA4DAGRgYQkAHyGMF8NgYrIM3JIAGVYYDT+AEjAwuDFpBmA9KMDEwMCh9i/v8H8sH0/4dQc1iAmAkALaUKLgAAAHjaTY9LDsIgEIbtgqHUPpDi3gPoBVyRTmTddOmqTXThEXqrob2gQ1FjwpDvfwCBdmdXC5AVKFu3e5MfNFJ29KTQT48Ob9/lqYwOGZxeUelN2U2R6+cArgtCJpauW7UQBqnFkUsjAY/kOU1cP+DAgvxwn1chZDwUbd6CFimGXwzwF6tPbFIcjEl+vvmM/byA48e6tWrKArm4ZJlCbdsrxksL1AwWn/yBSJKpYbq8AXaaTb8AAHja28jAwOC00ZrBeQNDQOWO//sdBBgYGRiYWYAEELEwMTE4uzo5Zzo5b2BxdnFOcALxNjA6b2ByTswC8jYwg0VlNuoCTWAMqNzMzsoK1rEhNqByEyerg5PMJlYuVueETKcd/89uBpnpvIEVomeHLoMsAAe1Id4AAAAAAAB42oWQT07CQBTGv0JBhagk7HQzKxca2sJCE1hDt4QF+9JOS0nbaaYDCQfwCJ7Au3AHj+LO13FMmm6cl7785vven0kBjHCBhfpYuNa5Ph1c0e2Xu3jEvWG7UdPDLZ4N92nOm+EBXuAbHmIMSRMs+4aUEd4Nd3CHD8NdvOLTsA2GL8M9PODbcL+hD7C1xoaHeLJSEao0FEW14ckxC+TU8TxvsY6X0eLPmRhry2WVioLpkrbp84LLQPGI7c6sOiUzpWIWS5GzlSgUzzLBSikOPFTOXqly7rqx0Z1Q5BAIoZBSFihQYQOOBEdkCOgXTOHA07HAGjGWiIjaPZNW13/+lm6S9FT7rLHFJ6fQbkATOG1j2OFMucKJJsxIVfQORl+9Jyda6Sl1dUYhSCm1dyClfoeDve4qMYdLEbfqHf3O/AdDumsjAAB42mNgYoAAZQYjBmyAGYQZmdhL8zLdDEydARfoAqIAAAABAAMABwAKABMAB///AA8AAQAAAAAAAAAAAAAAAAABAAAAAA==) format('woff');
}

.markdown-body .octicon {
  display: inline-block;
  fill: currentColor;
  vertical-align: text-bottom;
}

.markdown-body .anchor {
  float: left;
  line-height: 1;
  margin-left: -20px;
  padding-right: 4px;
}

.markdown-body .anchor:focus {
  outline: none;
}

.markdown-body h1 .octicon-link,
.markdown-body h2 .octicon-link,
.markdown-body h3 .octicon-link,
.markdown-body h4 .octicon-link,
.markdown-body h5 .octicon-link,
.markdown-body h6 .octicon-link {
  color: #1b1f23;
  vertical-align: middle;
  visibility: hidden;
}

.markdown-body h1:hover .anchor,
.markdown-body h2:hover .anchor,
.markdown-body h3:hover .anchor,
.markdown-body h4:hover .anchor,
.markdown-body h5:hover .anchor,
.markdown-body h6:hover .anchor {
  text-decoration: none;
}

.markdown-body h1:hover .anchor .octicon-link,
.markdown-body h2:hover .anchor .octicon-link,
.markdown-body h3:hover .anchor .octicon-link,
.markdown-body h4:hover .anchor .octicon-link,
.markdown-body h5:hover .anchor .octicon-link,
.markdown-body h6:hover .anchor .octicon-link {
  visibility: visible;
}

.markdown-body {
  -ms-text-size-adjust: 100%;
  -webkit-text-size-adjust: 100%;
  color: #24292e;
  line-height: 1.5;
  font-family: -apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol;
  font-size: 16px;
  line-height: 1.5;
  word-wrap: break-word;
}

.markdown-body .pl-c {
  color: #6a737d;
}

.markdown-body .pl-c1,
.markdown-body .pl-s .pl-v {
  color: #005cc5;
}

.markdown-body .pl-e,
.markdown-body .pl-en {
  color: #6f42c1;
}

.markdown-body .pl-s .pl-s1,
.markdown-body .pl-smi {
  color: #24292e;
}

.markdown-body .pl-ent {
  color: #22863a;
}

.markdown-body .pl-k {
  color: #d73a49;
}

.markdown-body .pl-pds,
.markdown-body .pl-s,
.markdown-body .pl-s .pl-pse .pl-s1,
.markdown-body .pl-sr,
.markdown-body .pl-sr .pl-cce,
.markdown-body .pl-sr .pl-sra,
.markdown-body .pl-sr .pl-sre {
  color: #032f62;
}

.markdown-body .pl-smw,
.markdown-body .pl-v {
  color: #e36209;
}

.markdown-body .pl-bu {
  color: #b31d28;
}

.markdown-body .pl-ii {
  background-color: #b31d28;
  color: #fafbfc;
}

.markdown-body .pl-c2 {
  background-color: #d73a49;
  color: #fafbfc;
}

.markdown-body .pl-c2:before {
  content: "^M";
}

.markdown-body .pl-sr .pl-cce {
  color: #22863a;
  font-weight: 700;
}

.markdown-body .pl-ml {
  color: #735c0f;
}

.markdown-body .pl-mh,
.markdown-body .pl-mh .pl-en,
.markdown-body .pl-ms {
  color: #005cc5;
  font-weight: 700;
}

.markdown-body .pl-mi {
  color: #24292e;
  font-style: italic;
}

.markdown-body .pl-mb {
  color: #24292e;
  font-weight: 700;
}

.markdown-body .pl-md {
  background-color: #ffeef0;
  color: #b31d28;
}

.markdown-body .pl-mi1 {
  background-color: #f0fff4;
  color: #22863a;
}

.markdown-body .pl-mc {
  background-color: #ffebda;
  color: #e36209;
}

.markdown-body .pl-mi2 {
  background-color: #005cc5;
  color: #f6f8fa;
}

.markdown-body .pl-mdr {
  color: #6f42c1;
  font-weight: 700;
}

.markdown-body .pl-ba {
  color: #586069;
}

.markdown-body .pl-sg {
  color: #959da5;
}

.markdown-body .pl-corl {
  color: #032f62;
  text-decoration: underline;
}

.markdown-body details {
  display: block;
}

.markdown-body summary {
  display: list-item;
}

.markdown-body a {
  background-color: transparent;
}

.markdown-body a:active,
.markdown-body a:hover {
  outline-width: 0;
}

.markdown-body strong {
  font-weight: inherit;
  font-weight: bolder;
}

.markdown-body h1 {
  font-size: 2em;
  margin: .67em 0;
}

.markdown-body img {
  border-style: none;
}

.markdown-body code,
.markdown-body kbd,
.markdown-body pre {
  font-family: monospace,monospace;
  font-size: 1em;
}

.markdown-body hr {
  box-sizing: content-box;
  height: 0;
  overflow: visible;
}

.markdown-body input {
  font: inherit;
  margin: 0;
}

.markdown-body input {
  overflow: visible;
}

.markdown-body [type=checkbox] {
  box-sizing: border-box;
  padding: 0;
}

.markdown-body * {
  box-sizing: border-box;
}

.markdown-body input {
  font-family: inherit;
  font-size: inherit;
  line-height: inherit;
}

.markdown-body a {
  color: #0366d6;
  text-decoration: none;
}

.markdown-body a:hover {
  text-decoration: underline;
}

.markdown-body strong {
  font-weight: 600;
}

.markdown-body hr {
  background: transparent;
  border: 0;
  border-bottom: 1px solid #dfe2e5;
  height: 0;
  margin: 15px 0;
  overflow: hidden;
}

.markdown-body hr:before {
  content: "";
  display: table;
}

.markdown-body hr:after {
  clear: both;
  content: "";
  display: table;
}

.markdown-body table {
  border-collapse: collapse;
  border-spacing: 0;
}

.markdown-body td,
.markdown-body th {
  padding: 0;
}

.markdown-body details summary {
  cursor: pointer;
}

.markdown-body h1,
.markdown-body h2,
.markdown-body h3,
.markdown-body h4,
.markdown-body h5,
.markdown-body h6 {
  margin-bottom: 0;
  margin-top: 0;
}

.markdown-body h1 {
  font-size: 32px;
}

.markdown-body h1,
.markdown-body h2 {
  font-weight: 600;
}

.markdown-body h2 {
  font-size: 24px;
}

.markdown-body h3 {
  font-size: 20px;
}

.markdown-body h3,
.markdown-body h4 {
  font-weight: 600;
}

.markdown-body h4 {
  font-size: 16px;
}

.markdown-body h5 {
  font-size: 14px;
}

.markdown-body h5,
.markdown-body h6 {
  font-weight: 600;
}

.markdown-body h6 {
  font-size: 12px;
}

.markdown-body p {
  margin-bottom: 10px;
  margin-top: 0;
}

.markdown-body blockquote {
  margin: 0;
}

.markdown-body ol,
.markdown-body ul {
  margin-bottom: 0;
  margin-top: 0;
  padding-left: 0;
}

.markdown-body ol ol,
.markdown-body ul ol {
  list-style-type: lower-roman;
}

.markdown-body ol ol ol,
.markdown-body ol ul ol,
.markdown-body ul ol ol,
.markdown-body ul ul ol {
  list-style-type: lower-alpha;
}

.markdown-body dd {
  margin-left: 0;
}

.markdown-body code,
.markdown-body pre {
  font-family: SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;
  font-size: 12px;
}

.markdown-body pre {
  margin-bottom: 0;
  margin-top: 0;
}

.markdown-body input::-webkit-inner-spin-button,
.markdown-body input::-webkit-outer-spin-button {
  -webkit-appearance: none;
  appearance: none;
  margin: 0;
}

.markdown-body .border {
  border: 1px solid #e1e4e8!important;
}

.markdown-body .border-0 {
  border: 0!important;
}

.markdown-body .border-bottom {
  border-bottom: 1px solid #e1e4e8!important;
}

.markdown-body .rounded-1 {
  border-radius: 3px!important;
}

.markdown-body .bg-white {
  background-color: #fff!important;
}

.markdown-body .bg-gray-light {
  background-color: #fafbfc!important;
}

.markdown-body .text-gray-light {
  color: #6a737d!important;
}

.markdown-body .mb-0 {
  margin-bottom: 0!important;
}

.markdown-body .my-2 {
  margin-bottom: 8px!important;
  margin-top: 8px!important;
}

.markdown-body .pl-0 {
  padding-left: 0!important;
}

.markdown-body .py-0 {
  padding-bottom: 0!important;
  padding-top: 0!important;
}

.markdown-body .pl-1 {
  padding-left: 4px!important;
}

.markdown-body .pl-2 {
  padding-left: 8px!important;
}

.markdown-body .py-2 {
  padding-bottom: 8px!important;
  padding-top: 8px!important;
}

.markdown-body .pl-3,
.markdown-body .px-3 {
  padding-left: 16px!important;
}

.markdown-body .px-3 {
  padding-right: 16px!important;
}

.markdown-body .pl-4 {
  padding-left: 24px!important;
}

.markdown-body .pl-5 {
  padding-left: 32px!important;
}

.markdown-body .pl-6 {
  padding-left: 40px!important;
}

.markdown-body .f6 {
  font-size: 12px!important;
}

.markdown-body .lh-condensed {
  line-height: 1.25!important;
}

.markdown-body .text-bold {
  font-weight: 600!important;
}

.markdown-body:before {
  content: "";
  display: table;
}

.markdown-body:after {
  clear: both;
  content: "";
  display: table;
}

.markdown-body>:first-child {
  margin-top: 0!important;
}

.markdown-body>:last-child {
  margin-bottom: 0!important;
}

.markdown-body a:not([href]) {
  color: inherit;
  text-decoration: none;
}

.markdown-body blockquote,
.markdown-body dl,
.markdown-body ol,
.markdown-body p,
.markdown-body pre,
.markdown-body table,
.markdown-body ul {
  margin-bottom: 16px;
  margin-top: 0;
}

.markdown-body hr {
  background-color: #e1e4e8;
  border: 0;
  height: .25em;
  margin: 24px 0;
  padding: 0;
}

.markdown-body blockquote {
  border-left: .25em solid #dfe2e5;
  color: #6a737d;
  padding: 0 1em;
}

.markdown-body blockquote>:first-child {
  margin-top: 0;
}

.markdown-body blockquote>:last-child {
  margin-bottom: 0;
}

.markdown-body kbd {
  background-color: #fafbfc;
  border: 1px solid #c6cbd1;
  border-bottom-color: #959da5;
  border-radius: 3px;
  box-shadow: inset 0 -1px 0 #959da5;
  color: #444d56;
  display: inline-block;
  font-size: 11px;
  line-height: 10px;
  padding: 3px 5px;
  vertical-align: middle;
}

.markdown-body h1,
.markdown-body h2,
.markdown-body h3,
.markdown-body h4,
.markdown-body h5,
.markdown-body h6 {
  font-weight: 600;
  line-height: 1.25;
  margin-bottom: 16px;
  margin-top: 24px;
}

.markdown-body h1 {
  font-size: 2em;
}

.markdown-body h1,
.markdown-body h2 {
  border-bottom: 1px solid #eaecef;
  padding-bottom: .3em;
}

.markdown-body h2 {
  font-size: 1.5em;
}

.markdown-body h3 {
  font-size: 1.25em;
}

.markdown-body h4 {
  font-size: 1em;
}

.markdown-body h5 {
  font-size: .875em;
}

.markdown-body h6 {
  color: #6a737d;
  font-size: .85em;
}

.markdown-body ol,
.markdown-body ul {
  padding-left: 2em;
}

.markdown-body ol ol,
.markdown-body ol ul,
.markdown-body ul ol,
.markdown-body ul ul {
  margin-bottom: 0;
  margin-top: 0;
}

.markdown-body li {
  word-wrap: break-all;
}

.markdown-body li>p {
  margin-top: 16px;
}

.markdown-body li+li {
  margin-top: .25em;
}

.markdown-body dl {
  padding: 0;
}

.markdown-body dl dt {
  font-size: 1em;
  font-style: italic;
  font-weight: 600;
  margin-top: 16px;
  padding: 0;
}

.markdown-body dl dd {
  margin-bottom: 16px;
  padding: 0 16px;
}

.markdown-body table {
  display: block;
  overflow: auto;
  width: 100%;
}

.markdown-body table th {
  font-weight: 600;
}

.markdown-body table td,
.markdown-body table th {
  border: 1px solid #dfe2e5;
  padding: 6px 13px;
}

.markdown-body table tr {
  background-color: #fff;
  border-top: 1px solid #c6cbd1;
}

.markdown-body table tr:nth-child(2n) {
  background-color: #f6f8fa;
}

.markdown-body img {
  background-color: #fff;
  box-sizing: content-box;
  max-width: 100%;
}

.markdown-body img[align=right] {
  padding-left: 20px;
}

.markdown-body img[align=left] {
  padding-right: 20px;
}

.markdown-body code {
  background-color: rgba(27,31,35,.05);
  border-radius: 3px;
  font-size: 85%;
  margin: 0;
  padding: .2em .4em;
}

.markdown-body pre {
  word-wrap: normal;
}

.markdown-body pre>code {
  background: transparent;
  border: 0;
  font-size: 100%;
  margin: 0;
  padding: 0;
  white-space: pre;
  word-break: normal;
}

.markdown-body .highlight {
  margin-bottom: 16px;
}

.markdown-body .highlight pre {
  margin-bottom: 0;
  word-break: normal;
}

.markdown-body .highlight pre,
.markdown-body pre {
  background-color: #f6f8fa;
  border-radius: 3px;
  font-size: 85%;
  line-height: 1.45;
  overflow: auto;
  padding: 16px;
}

.markdown-body pre code {
  background-color: transparent;
  border: 0;
  display: inline;
  line-height: inherit;
  margin: 0;
  max-width: auto;
  overflow: visible;
  padding: 0;
  word-wrap: normal;
}

.markdown-body .commit-tease-sha {
  color: #444d56;
  display: inline-block;
  font-family: SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;
  font-size: 90%;
}

.markdown-body .blob-wrapper {
  border-bottom-left-radius: 3px;
  border-bottom-right-radius: 3px;
  overflow-x: auto;
  overflow-y: hidden;
}

.markdown-body .blob-wrapper-embedded {
  max-height: 240px;
  overflow-y: auto;
}

.markdown-body .blob-num {
  -moz-user-select: none;
  -ms-user-select: none;
  -webkit-user-select: none;
  color: rgba(27,31,35,.3);
  cursor: pointer;
  font-family: SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;
  font-size: 12px;
  line-height: 20px;
  min-width: 50px;
  padding-left: 10px;
  padding-right: 10px;
  text-align: right;
  user-select: none;
  vertical-align: top;
  white-space: nowrap;
  width: 1%;
}

.markdown-body .blob-num:hover {
  color: rgba(27,31,35,.6);
}

.markdown-body .blob-num:before {
  content: attr(data-line-number);
}

.markdown-body .blob-code {
  line-height: 20px;
  padding-left: 10px;
  padding-right: 10px;
  position: relative;
  vertical-align: top;
}

.markdown-body .blob-code-inner {
  color: #24292e;
  font-family: SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;
  font-size: 12px;
  overflow: visible;
  white-space: pre;
  word-wrap: normal;
}

.markdown-body .pl-token.active,
.markdown-body .pl-token:hover {
  background: #ffea7f;
  cursor: pointer;
}

.markdown-body kbd {
  background-color: #fafbfc;
  border: 1px solid #d1d5da;
  border-bottom-color: #c6cbd1;
  border-radius: 3px;
  box-shadow: inset 0 -1px 0 #c6cbd1;
  color: #444d56;
  display: inline-block;
  font: 11px SFMono-Regular,Consolas,Liberation Mono,Menlo,Courier,monospace;
  line-height: 10px;
  padding: 3px 5px;
  vertical-align: middle;
}

.markdown-body :checked+.radio-label {
  border-color: #0366d6;
  position: relative;
  z-index: 1;
}

.markdown-body .tab-size[data-tab-size="1"] {
  -moz-tab-size: 1;
  tab-size: 1;
}

.markdown-body .tab-size[data-tab-size="2"] {
  -moz-tab-size: 2;
  tab-size: 2;
}

.markdown-body .tab-size[data-tab-size="3"] {
  -moz-tab-size: 3;
  tab-size: 3;
}

.markdown-body .tab-size[data-tab-size="4"] {
  -moz-tab-size: 4;
  tab-size: 4;
}

.markdown-body .tab-size[data-tab-size="5"] {
  -moz-tab-size: 5;
  tab-size: 5;
}

.markdown-body .tab-size[data-tab-size="6"] {
  -moz-tab-size: 6;
  tab-size: 6;
}

.markdown-body .tab-size[data-tab-size="7"] {
  -moz-tab-size: 7;
  tab-size: 7;
}

.markdown-body .tab-size[data-tab-size="8"] {
  -moz-tab-size: 8;
  tab-size: 8;
}

.markdown-body .tab-size[data-tab-size="9"] {
  -moz-tab-size: 9;
  tab-size: 9;
}

.markdown-body .tab-size[data-tab-size="10"] {
  -moz-tab-size: 10;
  tab-size: 10;
}

.markdown-body .tab-size[data-tab-size="11"] {
  -moz-tab-size: 11;
  tab-size: 11;
}

.markdown-body .tab-size[data-tab-size="12"] {
  -moz-tab-size: 12;
  tab-size: 12;
}

.markdown-body .task-list-item {
  list-style-type: none;
}

.markdown-body .task-list-item+.task-list-item {
  margin-top: 3px;
}

.markdown-body .task-list-item input {
  margin: 0 .2em .25em -1.6em;
  vertical-align: middle;
}

.markdown-body hr {
  border-bottom-color: #eee;
}

.markdown-body .pl-0 {
  padding-left: 0!important;
}

.markdown-body .pl-1 {
  padding-left: 4px!important;
}

.markdown-body .pl-2 {
  padding-left: 8px!important;
}

.markdown-body .pl-3 {
  padding-left: 16px!important;
}

.markdown-body .pl-4 {
  padding-left: 24px!important;
}

.markdown-body .pl-5 {
  padding-left: 32px!important;
}

.markdown-body .pl-6 {
  padding-left: 40px!important;
}

.markdown-body .pl-7 {
  padding-left: 48px!important;
}

.markdown-body .pl-8 {
  padding-left: 64px!important;
}

.markdown-body .pl-9 {
  padding-left: 80px!important;
}

.markdown-body .pl-10 {
  padding-left: 96px!important;
}

.markdown-body .pl-11 {
  padding-left: 112px!important;
}

.markdown-body .pl-12 {
  padding-left: 128px!important;
}

  </style>
  <style>
  /**
 * prism.js default theme for JavaScript, CSS and HTML
 * Based on dabblet (http://dabblet.com)
 * @author Lea Verou
 */

code[class*="language-"],
pre[class*="language-"] {
	color: black;
	background: none;
	text-shadow: 0 1px white;
	font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
	font-size: 1em;
	text-align: left;
	white-space: pre;
	word-spacing: normal;
	word-break: normal;
	word-wrap: normal;
	line-height: 1.5;

	-moz-tab-size: 4;
	-o-tab-size: 4;
	tab-size: 4;

	-webkit-hyphens: none;
	-moz-hyphens: none;
	-ms-hyphens: none;
	hyphens: none;
}

pre[class*="language-"]::-moz-selection, pre[class*="language-"] ::-moz-selection,
code[class*="language-"]::-moz-selection, code[class*="language-"] ::-moz-selection {
	text-shadow: none;
	background: #b3d4fc;
}

pre[class*="language-"]::selection, pre[class*="language-"] ::selection,
code[class*="language-"]::selection, code[class*="language-"] ::selection {
	text-shadow: none;
	background: #b3d4fc;
}

@media print {
	code[class*="language-"],
	pre[class*="language-"] {
		text-shadow: none;
	}
}

/* Code blocks */
pre[class*="language-"] {
	padding: 1em;
	margin: .5em 0;
	overflow: auto;
}

:not(pre) > code[class*="language-"],
pre[class*="language-"] {
	background: #f5f2f0;
}

/* Inline code */
:not(pre) > code[class*="language-"] {
	padding: .1em;
	border-radius: .3em;
	white-space: normal;
}

.token.comment,
.token.prolog,
.token.doctype,
.token.cdata {
	color: slategray;
}

.token.punctuation {
	color: #999;
}

.token.namespace {
	opacity: .7;
}

.token.property,
.token.tag,
.token.boolean,
.token.number,
.token.constant,
.token.symbol,
.token.deleted {
	color: #905;
}

.token.selector,
.token.attr-name,
.token.string,
.token.char,
.token.builtin,
.token.inserted {
	color: #690;
}

.token.operator,
.token.entity,
.token.url,
.language-css .token.string,
.style .token.string {
	color: #9a6e3a;
	/* This background color was intended by the author of this theme. */
	background: hsla(0, 0%, 100%, .5);
}

.token.atrule,
.token.attr-value,
.token.keyword {
	color: #07a;
}

.token.function,
.token.class-name {
	color: #DD4A68;
}

.token.regex,
.token.important,
.token.variable {
	color: #e90;
}

.token.important,
.token.bold {
	font-weight: bold;
}
.token.italic {
	font-style: italic;
}

.token.entity {
	cursor: help;
}

  </style>
  <style>
  
  </style>
  <style>
    .markdown-body {
      font-family: -apple-system,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji;
      box-sizing: border-box;
      min-width: 200px;
      max-width: 980px;
      margin: 0 auto;
      padding: 45px;
    }

    @media not print {
      .markdown-body {
        padding: 45px;
      }

      @media (max-width: 767px) {
        .markdown-body {
          padding: 15px;
        }
      }
    }

    .hf-container {
      color: #24292e;
      line-height: 1.3;
    }

    .markdown-body .highlight pre,
    .markdown-body pre {
      white-space: pre-wrap;
    }
    .markdown-body table {
      display: table;
    }
    .markdown-body img[data-align="center"] {
      display: block;
      margin: 0 auto;
    }
    .markdown-body img[data-align="right"] {
      display: block;
      margin: 0 0 0 auto;
    }
    .markdown-body li.task-list-item {
      list-style-type: none;
    }
    .markdown-body li > [type=checkbox] {
      margin: 0 0 0 -1.3em;
    }
    .markdown-body input[type="checkbox"] ~ p {
      margin-top: 0;
      display: inline-block;
    }
    .markdown-body ol ol,
    .markdown-body ul ol {
      list-style-type: decimal;
    }
    .markdown-body ol ol ol,
    .markdown-body ol ul ol,
    .markdown-body ul ol ol,
    .markdown-body ul ul ol {
      list-style-type: decimal;
    }
  </style>
  <style>.markdown-body a.footnote-ref {
  text-decoration: none;
}

.footnotes {
  font-size: .85em;
  opacity: .8;
}

.footnotes li[role="doc-endnote"] {
  position: relative;
}

.footnotes .footnote-back {
  position: absolute;
  font-family: initial;
  top: .2em;
  right: 1em;
  text-decoration: none;
}

.inline-math.invalid,
.multiple-math.invalid {
  color: rgb(255, 105, 105);
}

.toc-container {
  width: 100%;
}

.toc-container .toc-title {
  font-weight: 700;
  font-size: 1.2em;
  margin-bottom: 0;
}

.toc-container li,
.toc-container ul,
.toc-container ul li {
  list-style: none !important;
}

.toc-container > ul {
  padding-left: 0;
}

.toc-container ul li span {
  display : flex;
}

.toc-container ul li span a {
  color: inherit;
  text-decoration: none;
}
.toc-container ul li span a:hover {
  color: inherit;
  text-decoration: none;
}

.toc-container ul li span span.dots {
  flex: 1;
  height: 0.65em;
  margin: 0 10px;
  border-bottom: 2px dotted black;
}
</style>
  <style>.markdown-body{}pre.front-matter{display:none!important;}</style>
</head>
<body>
  <article class="markdown-body"><h1 class="atx" id="一-oracle体系结构概述">一. Oracle体系结构概述</h1>
<h2 class="atx" id="1-oracle组件架构">1. Oracle组件架构</h2>
<p><img alt="" src="file:///D:/Documents/Oracle%E8%BF%90%E7%BB%B4%E5%AE%9E%E6%88%98/assets/9a2abf2657119061d8d30371e4d8f70ea72e8035.png">3-38-image.png)</p>
<h2 class="atx" id="2-oracle服务器">2. Oracle服务器</h2>
<ul>
<li><p>Oracle服务器是一个数据库管理系统，它提供开放、全面、集成的方法进行信息管理</p>
</li>
<li><p>由Oracle实例和Oracle数据库组成</p>
</li>
</ul>
<h2 class="atx" id="3-oracle实例">3. Oracle实例</h2>
<p><img alt="" src="file:///D:/Documents/Oracle%E8%BF%90%E7%BB%B4%E5%AE%9E%E6%88%98/assets/93f56ebfb57365a6fd792a32238d78d6013d8f88.png"></p>
<h3 class="atx" id="实例">实例</h3>
<p>概述: 在数据库服务器上启动数据库后, Oracle软件会分配一个称为系统全局区(SGA)的共享内存区, 还会启动若干个Oracle后台进程. 两者的组合就称为一个Oracle实例.</p>
<ul>
<li><p>访问数据库的一种方法</p>
</li>
<li><p>一个实例只能打开一个数据库</p>
</li>
<li><p>由内存和后台进程组成</p>
</li>
</ul>
<blockquote>
<p>在同一台计算机上可以并发执行多个实例,每个实例只访问它自己的物理数据库</p>
<p>RAC: 多个实例关联访问同一个数据库</p>
</blockquote>
<h3 class="atx" id="内存">内存</h3>
<p>概述: 此处的内存主要有两个区域, SGA和PGA</p>
<ul>
<li><p>系统全局区SGA : 在实例启动时分配, 是Oracle实例的基本组件</p>
</li>
<li><p>程序全局区PGA : 在服务器进程启动时分配</p>
</li>
</ul>
<p>内存存储的信息有:</p>
<ul>
<li><p>程序代码</p>
</li>
<li><p>连接会话的信息</p>
</li>
<li><p>程序执行过程需要的其他信息, 例如查询语句的结果集返回前的状态</p>
</li>
<li><p>Oracle进程间的通信信息, 例如, 锁信息</p>
</li>
<li><p>缓存数据, 例如数据块和重做日志条目信息</p>
</li>
</ul>
<p>参数</p>
<p>MEMORY_TARGET</p>
<p>设定为0, 让SGA和PGA分别管理</p>
<h3 class="atx" id="进程">进程</h3>
<p>在操作系统上运行一系列步骤的一种机制</p>
<p>一个具有一定独立功能的程序</p>
<p>关于某个数据集合的一次运行活动</p>
<p>操作系统动态执行的基本单元</p>
<p>在传统的操作系统中, 进程既是基本的分配单元, 也是基本的执行单元</p>
<p>在Linux下, Oracle后台进程是Linux进程; 在NT中, Oracle后台进程是一个进程中执行线程</p>
<p><img alt="" src="file:///D:/Documents/Oracle%E8%BF%90%E7%BB%B4%E5%AE%9E%E6%88%98/assets/7b1142e27c45aedb81dae9ada48e6c0bedcba3e4.png"></p>
<p>用户进程 User process = 客户端进程 Client process</p>
<ul>
<li><p>用户请求连接Oracle服务器时在客户端启动的进程</p>
</li>
<li><p>在数据库用户请求连接到Oracle服务器时启动, 请求与Oracle服务器交互的程序, 必须先建立连接, 不与Oracle服务器直接交互</p>
</li>
</ul>
<p>服务器进程 Server process</p>
<ul>
<li><p>在用户连接上Oracle实例创建会话后, 在服务端启动的进程</p>
</li>
<li><p>直接与Oracle服务器交互的程序</p>
</li>
<li><p>执行生成的调用并返回相关结果</p>
</li>
<li><p>一个服务进程专门用来响应用户进程的请求</p>
</li>
<li><p>用户进程断开数据库, 与之相对应的服务器进程就终止了</p>
</li>
</ul>
<p>后台进程 Background process   :   <strong>后台进程是实例和数据库的纽带</strong></p>
<ul>
<li><p>在Oracle例程启动后创建的进程</p>
</li>
<li><p>直接与Oracle交互的程序</p>
</li>
<li><p>执行维护物理结构与内存结构之间的关系</p>
</li>
<li><p>必备的后台进程</p>
<ul>
<li><p>DBWn</p>
<ul>
<li><p>数据库编写器</p>
</li>
<li><p>进程从磁盘读取数据并将其写回到磁盘</p>
</li>
<li><p>一个Oracle实例有许多数据库编写器, 如DBW0, DBW1, DBW2等</p>
</li>
</ul>
</li>
<li><p>PMON</p>
</li>
<li><ul>
<li><p>Oracle数据库中最活跃的一个进程</p>
</li>
<li><p>调节所有其他进程的进程监视器</p>
</li>
<li><p>能够清理异常连接的数据库连接, 并自动向侦听器进程注册数据库实例</p>
</li>
</ul>
</li>
<li><p>CKPT</p>
<ul>
<li><p>检查点过程</p>
</li>
<li><p><strong><u>在Oracle中，磁盘上的数据称为块，内存中的数据称为缓冲区。&nbsp;当该块写入缓冲区并更改时，缓冲区变脏，需要将其写入磁盘。CKPT进程使用检查点信息更新控制和数据文件头，并向脏盘写入脏缓冲区的信号</u></strong>。</p>
</li>
</ul>
</li>
<li><p>LGWR</p>
<ul>
<li><p>可恢复架构的关键</p>
</li>
<li><p>在数据库中发生的每个变化都被写入到一个名为redo的日志文件中用于恢复; 而这些变化就是有LGWR进程编写和记录的</p>
</li>
<li><p>LGWR进程首先将更改写入内存, 然后将磁盘写入重做日志, 然后将其用于恢复</p>
</li>
</ul>
</li>
<li><p>SMON</p>
<ul>
<li><p>执行系统级清理操作的系统监视进程</p>
</li>
<li><p>在发生故障的情况下自动恢复实例, 例如断电和清理临时文件</p>
</li>
</ul>
</li>
</ul>
</li>
<li><p>可选的后台进程</p>
<ul>
<li><p>ARCn</p>
<ul>
<li><p>归档进程, 将重做日志的内容复制到归档重做日志文件</p>
</li>
<li><p>可以有多个进程</p>
</li>
<li><p>允许写入多个目标</p>
</li>
</ul>
</li>
<li><p>LMDn、RECO、CJQ0、LMON、Snnn、Dnnn、Pnnn、LCKn、QMNn</p>
</li>
</ul>
</li>
</ul>
<p>附加</p>
<blockquote>
<p>专有服务器模式下, 一个用户进程与服务器进程一一对应</p>
<p>共享服务器模式下, 多个用户进程可能对应一个服务器进程</p>
</blockquote>
<h2 class="atx" id="4-oracle数据库">4. Oracle数据库</h2>
<p>Oracle数据库, 是操作系统上数据文件的集合, 数据文件是真正存放用户数据的地方</p>
<p><strong>3个必须且重要的文件 + 3个非必须但重要的文件</strong></p>
<ul>
<li><p>data files + control files + redo log files</p>
<ul>
<li><p>数据文件 : 包含数据库中实际数据的数据文件</p>
</li>
<li><p>控制文件 : 包含维护和核实数据库完整性所必须的信息</p>
</li>
<li><p>重做日志文件 : 记录数据库的更改, 以便在发生故障时能够恢复数据</p>
</li>
</ul>
</li>
<li><p>parameter files + password files + archived redo log files</p>
<ul>
<li><p>参数文件 : 定义了Oracle实例的特征. 例如它包含的参数大小决定了SGA中某些内存结构的大小</p>
</li>
<li><p>密码文件 : 对有权启动和关闭Oracle实例的用户进行身份验证</p>
</li>
<li><p>归档重做日志文件 : 重做日志文件的脱机副本</p>
</li>
</ul>
</li>
</ul>
<h2 class="atx" id="5-连接与会话">5. 连接与会话</h2>
<p><img alt="" src="file:///D:/Documents/assets/2021-11-29-14-22-18-image.png"></p>
<h3 class="atx" id="连接-connection">连接 Connection</h3>
<p>客户端进程与Oracle实例之间的一个物理通信通道. 物理通信通道可以通过进程间通信机制或网络协议确认.</p>
<h3 class="atx" id="会话-session">会话 Session</h3>
<p>会话是一个逻辑概念, 表示用户登录数据库的一种状态. 当用户通过密码登陆数据库时, 就建立了一个用户对应的会话. 用户断开数据库连接, 会话即结束.</p>
<p>对于一个用户来说, 可能同时存在多个会话, 因为oracle数据库允许用户同时多次并发连接, 例如sqlplus工具, 或应用程序中配置连接数据库</p>
<h3 class="atx" id="进程与会话的查询">进程与会话的查询</h3>
<ul>
<li><p>查看会话的信息, 包括用户连接的程序、所在的客户端</p>
<pre><code class="fenced-code-block language-sql"><span class="token keyword">select</span> sid<span class="token punctuation">,</span> <span class="token keyword">serial</span><span class="token comment">#, paddr, username, program, machine</span>
    <span class="token keyword">from</span> v$<span class="token keyword">session</span>
        <span class="token keyword">where</span> username<span class="token operator">=</span><span class="token string">'SYSTEM'</span><span class="token punctuation">;</span></code></pre>
</li>
<li><p>查看会话对应的Oracle服务进程</p>
<pre><code class="fenced-code-block language-sql"><span class="token keyword">select</span> username<span class="token punctuation">,</span> program<span class="token punctuation">,</span> terminal<span class="token punctuation">,</span> spid
    <span class="token keyword">from</span> v$process
        <span class="token keyword">where</span> addr <span class="token operator">in</span> <span class="token punctuation">(</span><span class="token string">'000000008FF3E1C0'</span><span class="token punctuation">,</span><span class="token string">'000000008FF40240'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</li>
<li><p>杀会话    </p>
<pre><code class="fenced-code-block language-sql"><span class="token keyword">alter</span> system <span class="token keyword">kill</span> <span class="token keyword">session</span> <span class="token string">'xxx,xxx'</span></code></pre>
</li>
</ul>
<h1 class="atx" id="二-配置本地yum源">二. 配置本地yum源</h1>
<ol>
<li><p>在虚拟机(服务器)中添加iso镜像</p>
<p><a href="https://blog.csdn.net/kexianmiao/article/details/52413382">VirtualBox中配置linux OS的本地磁盘镜像作为其软件源_kexianmiao的专栏-CSDN博客</a></p>
<p><img alt="" src="file:///D:/Documents/Oracle%E8%BF%90%E7%BB%B4%E5%AE%9E%E6%88%98/assets/2daf2c15c8a19f4fa65271a109c9e97f2e4779b0.png"></p>
</li>
<li><p>建立挂载目录</p>
<pre><code class="fenced-code-block language-shell"><span class="token function">mkdir</span> /mnt/cdrom</code></pre>
</li>
<li><p>挂载镜像</p>
<pre><code class="fenced-code-block language-shell"><span class="token function">mount</span> /dev/cdrom /mnt/cdrom</code></pre>
</li>
<li><p>备份原本的yum源文件</p>
<pre><code class="fenced-code-block language-shell"><span class="token function">vim</span> /etc/yum.repos.d/redhat.repo

<span class="token comment">#[163]</span>
<span class="token comment">#name=163</span>
<span class="token comment">#baseurl=http://mirrors.163.com/centos/7/os/x86_64</span>
<span class="token comment">#gpgcheck=0</span>
<span class="token comment">#enabled=1</span></code></pre>
</li>
<li><p>建立本地源文件</p>
<pre><code class="fenced-code-block language-shell"><span class="token function">vim</span> /etc/yum.repos.d/local.repo

<span class="token comment"># 配置内容</span>
<span class="token punctuation">[</span>local<span class="token punctuation">]</span>
<span class="token assign-left variable">name</span><span class="token operator">=</span>local
<span class="token assign-left variable">baseurl</span><span class="token operator">=</span>file:///mnt/cdrom
<span class="token assign-left variable">gpgcheck</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token assign-left variable">enabled</span><span class="token operator">=</span><span class="token number">1</span>
<span class="token assign-left variable">gpgkey</span><span class="token operator">=</span>file:///mnt/cdrom/RPM-GPG-KEY-redhat-release</code></pre>
</li>
<li><p>加载本地源</p>
<pre><code class="fenced-code-block language-shell"><span class="token comment"># 清除yum源</span>
yum clean all

<span class="token comment"># 缓存本地源</span>
yum makecache

<span class="token comment"># 测试</span>
yum repolist all </code></pre>
</li>
</ol>
<p><img alt="" src="file:///D:/Documents/Oracle%E8%BF%90%E7%BB%B4%E5%AE%9E%E6%88%98/assets/3c2b31519d3571a91e38e041e40c6f60894f7f03.png"></p>
<ol start="7">
<li><p>开机自动挂载</p>
<pre><code class="fenced-code-block language-shell"><span class="token function">vim</span> /etc/fstab
/dev/sr1 /mnt/cdrom iso9660 defaults <span class="token number">0</span> <span class="token number">1</span></code></pre>
</li>
</ol>
<h1 class="atx" id="三-安装软件及创建数据库">三. 安装软件及创建数据库</h1>
<h2 class="atx" id="1-安装软件的两种方式">1. 安装软件的两种方式</h2>
<ul>
<li><p>OUI方式</p>
<ul>
<li>通过Oracle Universal Installer选择Install database software only进行安装软件</li>
</ul>
</li>
<li><p>静默安装</p>
<ol>
<li><p>修改安装配置文件： vi ./database/response/db_install.rsp</p>
</li>
<li><p>执行安装
./runInstaller -silent -responseFile /oracle/db_install.rsp</p>
</li>
<li><p>安装软件后，root执行以下脚本：
1）/oracle/oraInventory/orainstRoot.sh
2）/oracle/product/11.2.0/db_1/root.sh</p>
</li>
</ol>
</li>
</ul>
<h2 class="atx" id="2-创建数据库的四种方式">2. 创建数据库的四种方式</h2>
<h3 class="atx" id="1-oui方式">1. OUI方式</h3>
<p>安装Oracle Server的过程中，Oracle Universal Installer 会启动DBCA，
接着DBCA将自动创建一个初始数据库。</p>
<h3 class="atx" id="2-dbca">2. DBCA</h3>
<p>Database Configuration Assistant是一个用来简化数据库创建操作的图形用户界面</p>
<h3 class="atx" id="3-静默创建数据库">3. 静默创建数据库</h3>
<ol>
<li><p>以oracle用户登录</p>
</li>
<li><p>设置环境变量</p>
<pre><code class="fenced-code-block language-shell"><span class="token builtin class-name">export</span> <span class="token assign-left variable">ORACLE_BASE</span><span class="token operator">=</span>/oracle
<span class="token builtin class-name">export</span> <span class="token assign-left variable">ORACLE_HOME</span><span class="token operator">=</span><span class="token variable">$ORACLE_BASE</span>/product/11.2.0/db_1
<span class="token builtin class-name">export</span> <span class="token assign-left variable">ORACLE_SID</span><span class="token operator">=</span>mynewdb
<span class="token builtin class-name">export</span> <span class="token assign-left variable">ORACLE_HOSTNAME</span><span class="token operator">=</span>node1
<span class="token builtin class-name">export</span> <span class="token assign-left variable">ORACLE_UNQNAME</span><span class="token operator">=</span>mynewdb
<span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token variable">$ORACLE_HOME</span>/bin:<span class="token variable">$ORACLE_HOME</span>/jdk/bin:<span class="token environment constant">$PATH</span></code></pre>
</li>
<li><p>修改静默建库使用的文件</p>
<pre><code class="fenced-code-block language-shell"><span class="token function">cp</span> <span class="token variable">$ORACLE_HOME</span>/assistants/dbca/dbca.rsp /oracle/dbca.rsp
<span class="token comment"># 修改 /oracle/dbca.rsp</span>

<span class="token comment"># 生成建库使用的dbca.rsp文件，使用如下配置即可</span>
<span class="token function">cat</span> <span class="token operator">&gt;</span> /oracle/dbca.rsp <span class="token operator">&lt;&lt;</span><span class="token operator">!</span>
<span class="token punctuation">[</span>GENERAL<span class="token punctuation">]</span>
RESPONSEFILE_VERSION <span class="token operator">=</span> <span class="token string">"11.2.0"</span>
OPERATION_TYPE <span class="token operator">=</span> <span class="token string">"createDatabase"</span>

<span class="token punctuation">[</span>CREATEDATABASE<span class="token punctuation">]</span>
GDBNAME <span class="token operator">=</span> <span class="token string">"mynewdb"</span>
SID <span class="token operator">=</span> <span class="token string">"mynewdb"</span>
TEMPLATENAME <span class="token operator">=</span> <span class="token string">"General_Purpose.dbc"</span>
SYSPASSWORD <span class="token operator">=</span> <span class="token string">"123456"</span>
SYSTEMPASSWORD <span class="token operator">=</span> <span class="token string">"123456"</span>
EMCONFIGURATION <span class="token operator">=</span> <span class="token string">"NONE"</span>
SYSMANPASSWORD <span class="token operator">=</span> <span class="token string">"123456"</span>
DBSNMPPASSWORD <span class="token operator">=</span> <span class="token string">"123456"</span>
DATAFILEDESTINATION <span class="token operator">=</span> /oradata
<span class="token comment">#STORAGETYPE=FS</span>
CHARACTERSET <span class="token operator">=</span> <span class="token string">"ZHS16GBK"</span>
<span class="token assign-left variable">NATIONALCHARACTERSET</span><span class="token operator">=</span> <span class="token string">"AL16UTF16"</span>
LISTENERS <span class="token operator">=</span> <span class="token string">"listener"</span>
MEMORYPERCENTAGE <span class="token operator">=</span> <span class="token string">"40"</span>
DATABASETYPE <span class="token operator">=</span> <span class="token string">"MULTIPURPOSE"</span>
AUTOMATICMEMORYMANAGEMENT <span class="token operator">=</span> <span class="token string">"TRUE"</span>
<span class="token comment">#TOTALMEMORY = "800"</span>
<span class="token operator">!</span></code></pre>
</li>
<li><p>执行静默建库语句</p>
<pre><code class="fenced-code-block language-shell">dbca -silent -createdatabase -responseFile /oracle/dbca.rsp</code></pre>
</li>
</ol>
<h3 class="atx" id="4-通过create-database命令">4. 通过CREATE DATABASE命令</h3>
<ol>
<li><p>以oracle用户登录</p>
</li>
<li><p>设置环境变量</p>
<pre><code class="fenced-code-block language-shell"><span class="token builtin class-name">export</span> <span class="token assign-left variable">ORACLE_BASE</span><span class="token operator">=</span>/oracle
<span class="token builtin class-name">export</span> <span class="token assign-left variable">ORACLE_HOME</span><span class="token operator">=</span><span class="token variable">$ORACLE_BASE</span>/product/11.2.0/db_1
<span class="token builtin class-name">export</span> <span class="token assign-left variable">ORACLE_SID</span><span class="token operator">=</span>mynewdb2

<span class="token builtin class-name">export</span> <span class="token assign-left variable">ORACLE_HOSTNAME</span><span class="token operator">=</span>node1
<span class="token builtin class-name">export</span> <span class="token assign-left variable">ORACLE_UNQNAME</span><span class="token operator">=</span>mynewdb2
<span class="token builtin class-name">export</span> <span class="token assign-left variable"><span class="token environment constant">PATH</span></span><span class="token operator">=</span><span class="token variable">$ORACLE_HOME</span>/bin:<span class="token variable">$ORACLE_HOME</span>/jdk/bin:<span class="token environment constant">$PATH</span>

<span class="token function">mkdir</span> -p /oracle/admin/mynewdb2/adump
<span class="token function">mkdir</span> -p /oracle/admin/mynewdb2/dpdump
<span class="token function">mkdir</span> -p /oracle/admin/mynewdb2/pfile
<span class="token function">mkdir</span> -p /oracle/cfgtoollogs/dbca/mynewdb2

<span class="token function">mkdir</span> -p /oradata/mynewdb2/</code></pre>
</li>
<li><p>建立参数文件</p>
<pre><code class="fenced-code-block language-shell"><span class="token function">cat</span> <span class="token operator">&gt;</span> <span class="token variable">$ORACLE_HOME</span>/dbs/initmynewdb2.ora <span class="token operator">&lt;&lt;</span><span class="token operator">!</span>
*.audit_file_dest<span class="token operator">=</span><span class="token string">'/oracle/admin/mynewdb2/adump'</span>
*.audit_trail<span class="token operator">=</span><span class="token string">'db'</span>
*.compatible<span class="token operator">=</span><span class="token string">'11.2.0.0.0'</span>
*.control_files<span class="token operator">=</span><span class="token string">'/oradata/mynewdb2/control01.ctl'</span>
*.db_block_size<span class="token operator">=</span><span class="token number">8192</span>
*.db_domain<span class="token operator">=</span><span class="token string">''</span>
*.db_name<span class="token operator">=</span><span class="token string">'mynewdb2'</span>
*.db_writer_processes<span class="token operator">=</span><span class="token number">1</span>
*.diagnostic_dest<span class="token operator">=</span><span class="token string">'/oracle'</span>
*.dispatchers<span class="token operator">=</span><span class="token string">'(PROTOCOL=TCP) (SERVICE=mynewdb2XDB)'</span>
*.memory_target<span class="token operator">=</span><span class="token number">838860800</span>
*.open_cursors<span class="token operator">=</span><span class="token number">300</span>
*.processes<span class="token operator">=</span><span class="token number">1500</span>
*.remote_login_passwordfile<span class="token operator">=</span><span class="token string">'EXCLUSIVE'</span>
*.sessions<span class="token operator">=</span><span class="token number">1655</span>
*.undo_tablespace<span class="token operator">=</span><span class="token string">'UNDOTBS'</span>
<span class="token operator">!</span></code></pre>
</li>
<li><p>建立密码文件</p>
<pre><code class="fenced-code-block language-shell">orapwd <span class="token assign-left variable">file</span><span class="token operator">=</span><span class="token variable">$ORACLE_HOME</span>/dbs/orapwmynewdb2 <span class="token assign-left variable">password</span><span class="token operator">=</span><span class="token number">123456</span> <span class="token assign-left variable">entries</span><span class="token operator">=</span><span class="token number">5</span> <span class="token assign-left variable">force</span><span class="token operator">=</span>y</code></pre>
</li>
<li><p>启动到nomount</p>
<pre><code class="fenced-code-block language-shell">sqlplus / as sysdba <span class="token operator">&lt;&lt;</span><span class="token operator">!</span>
startup nomount
<span class="token operator">!</span></code></pre>
</li>
<li><p>执行创建数据库语句</p>
<pre><code class="fenced-code-block language-shell">CREATE DATABASE mynewdb2
<span class="token environment constant">USER</span> SYS IDENTIFIED BY oracle
<span class="token environment constant">USER</span> SYSTEM IDENTIFIED BY oracle
LOGFILE GROUP <span class="token number">1</span> <span class="token punctuation">(</span><span class="token string">'/oradata/mynewdb2/redo01a.log'</span>,<span class="token string">'/oradata/mynewdb2/redo01b.log'</span><span class="token punctuation">)</span> SIZE 8M BLOCKSIZE <span class="token number">512</span>,
GROUP <span class="token number">2</span> <span class="token punctuation">(</span><span class="token string">'/oradata/mynewdb2/redo02a.log'</span>,<span class="token string">'/oradata/mynewdb2/redo02b.log'</span><span class="token punctuation">)</span> SIZE 8M BLOCKSIZE <span class="token number">512</span>,
GROUP <span class="token number">3</span> <span class="token punctuation">(</span><span class="token string">'/oradata/mynewdb2/redo03a.log'</span>,<span class="token string">'/oradata/mynewdb2/redo03b.log'</span><span class="token punctuation">)</span> SIZE 8M BLOCKSIZE <span class="token number">512</span>
MAXLOGFILES <span class="token number">16</span>
MAXLOGMEMBERS <span class="token number">3</span>
MAXLOGHISTORY <span class="token number">1</span>
MAXDATAFILES <span class="token number">1000</span>
CHARACTER SET ZHS16GBK
NATIONAL CHARACTER SET AL16UTF16
EXTENT MANAGEMENT LOCAL
DATAFILE <span class="token string">'/oradata/mynewdb2/system01.dbf'</span> SIZE 300M REUSE
SYSAUX DATAFILE <span class="token string">'/oradata/mynewdb2/sysaux01.dbf'</span> SIZE 300M REUSE
DEFAULT TABLESPACE <span class="token function">users</span> DATAFILE <span class="token string">'/oradata/mynewdb2/users01.dbf'</span> SIZE 500M REUSE AUTOEXTEND ON MAXSIZE UNLIMITED
DEFAULT TEMPORARY TABLESPACE tempts1 TEMPFILE <span class="token string">'/oradata/mynewdb2/temp01.dbf'</span> SIZE 20M REUSE
UNDO TABLESPACE undotbs DATAFILE <span class="token string">'/oradata/mynewdb2/undotbs01.dbf'</span> SIZE 200M REUSE AUTOEXTEND ON MAXSIZE UNLIMITED<span class="token punctuation">;</span></code></pre>
</li>
<li><p>创建字典</p>
<pre><code class="fenced-code-block language-sql"><span class="token comment"># 在sqlplus中以sysdba执行：</span>
<span class="token keyword">SQL</span><span class="token operator">&gt;</span>@?<span class="token operator">/</span>rdbms<span class="token operator">/</span>admin<span class="token operator">/</span>catalog<span class="token punctuation">.</span><span class="token keyword">sql</span> 静态字典视图，如dba_data_files
<span class="token keyword">SQL</span><span class="token operator">&gt;</span>@?<span class="token operator">/</span>rdbms<span class="token operator">/</span>admin<span class="token operator">/</span>catproc<span class="token punctuation">.</span><span class="token keyword">sql</span> 创建常用的PL<span class="token operator">/</span><span class="token keyword">SQL</span>程序包 dbms_metadata包，并创建pupbld<span class="token punctuation">.</span><span class="token keyword">sql</span>。

<span class="token comment"># 在sqlplus中以system执行：这个脚本的作用限制用户在sqlplus中执行命令</span>
<span class="token keyword">SQL</span><span class="token operator">&gt;</span>@?<span class="token operator">/</span>sqlplus<span class="token operator">/</span>admin<span class="token operator">/</span>pupbld<span class="token punctuation">.</span><span class="token keyword">sql</span></code></pre>
</li>
</ol>
<h1 class="atx" id="四-参数文件与告警日志">四. 参数文件与告警日志</h1>
<h2 class="atx" id="1-oracle实例启动的参数文件">1. Oracle实例启动的参数文件</h2>
<h3 class="atx" id="概述">概述</h3>
<ul>
<li><p>参数文件记录了数据库的配置。</p>
</li>
<li><p>在数据库启动时， Oracle 要根据参数文件中的参数设置，配置数据库。如要为各个内存池分配多少内存，允许打开的进程数和会话等等。
要想让数据库启动，必需先读取参数文件。</p>
</li>
<li><p>参数文件中的参数，我们通常称其为初始化参数，简称为参数。</p>
</li>
<li><p>共有两种参数文件</p>
<ul>
<li><p>pfile -- 文本文件, 可以直接用文本编辑器打开并修改</p>
</li>
<li><p>spfile -- 二进制文件, 一般在数据库中用SQL语句修改</p>
</li>
</ul>
</li>
<li><p>命名格式</p>
<ul>
<li><p>pfile -- initSID.ora</p>
</li>
<li><p>spfile -- spfileSID.ora</p>
</li>
</ul>
</li>
<li><p>默认位置</p>
<ul>
<li>$ORACLE_HOME/dbs</li>
</ul>
</li>
</ul>
<h3 class="atx" id="pfile">pfile</h3>
<ul>
<li><p>特性</p>
<ul>
<li><p>普通文本文件</p>
</li>
<li><p>在数据库服务器或客户端上都可以打开</p>
</li>
<li><p>数据库启动后, 无法修改pfile中的参数</p>
</li>
<li><p>alter system更改参数, 只是在内存中修改, 实例重启及丢失</p>
</li>
<li><p>文件中*号开头的参数表示在所有实例上生效(在RAC环境中, 一个数据库可能会对应多个实例)</p>
</li>
</ul>
</li>
<li><p>文件内容</p>
</li>
</ul>
<pre><code class="fenced-code-block language-shell">MEDMAN.__large_pool_size<span class="token operator">=</span><span class="token number">167772160</span>
MEDMAN.__oracle_base<span class="token operator">=</span><span class="token string">'/oracle/app/oracle'</span><span class="token comment">#ORACLE_BASE set from environment</span>
*.compatible<span class="token operator">=</span><span class="token string">'11.2.0.0.0'</span>
*.control_files<span class="token operator">=</span><span class="token string">'/oradata/MEDMAN/controlfile/control01.ctl'</span>,<span class="token string">'/oraarch/MEDMAN/controlfile/control02.ctl'</span>
*.db_block_size<span class="token operator">=</span><span class="token number">8192</span>
*.db_cache_size<span class="token operator">=</span><span class="token number">1073741824</span>
*.db_files<span class="token operator">=</span><span class="token number">3000</span>
*.db_name<span class="token operator">=</span><span class="token string">'MEDMAN'</span></code></pre>
<h3 class="atx" id="spfile">spfile</h3>
<ul>
<li><p>特性</p>
<ul>
<li><p>server parameter file</p>
</li>
<li><p>一个spfile只能对应一个数据库</p>
</li>
<li><p>二进制文件, 不能通过文本编辑器修改</p>
</li>
<li><p>Linux下可以通过strings查看二进制文件</p>
</li>
<li><p>可以通过RMAN工具备份spfile</p>
</li>
<li><p>可以通过create spfile语句从pfile或者DBCA创建</p>
</li>
<li><p>参数可以在实例运行时动态修改</p>
</li>
<li><p>修改参数时可以定义是在内存中还是spfile中修改</p>
<pre><code class="fenced-code-block language-sql"><span class="token keyword">SQL</span><span class="token operator">&gt;</span> <span class="token keyword">alter</span> system <span class="token keyword">set</span> parameter_name<span class="token operator">=</span>parameter_value scope<span class="token operator">=</span>scope_value<span class="token punctuation">;</span>
<span class="token comment"># scope取值</span>
<span class="token comment"># # scope=spfile == 在spfile参数文件中修改</span>
<span class="token comment"># # scope=memory == 在内存中修改</span>
<span class="token comment"># # scope=both == 默认, 同时修改内存和参数文件中的值</span></code></pre>
</li>
</ul>
</li>
</ul>
<h3 class="atx" id="确认当前数据库使用的参数文件">确认当前数据库使用的参数文件</h3>
<pre><code class="fenced-code-block language-sql"><span class="token comment"># 如果查询结果含有TRUE则是spfile参数文件, 只有FALSE则是纯文本参数文件</span>
<span class="token keyword">SQL</span><span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token keyword">distinct</span> ISSPECIFIED <span class="token keyword">from</span> v$spparameter<span class="token punctuation">;</span>

<span class="token comment"># 查看存在于spfile的参数个数</span>
<span class="token keyword">SQL</span><span class="token operator">&gt;</span> <span class="token keyword">select</span> isspecified <span class="token punctuation">,</span> <span class="token function">count</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">from</span> v$spparameter <span class="token keyword">group</span> <span class="token keyword">by</span> isspecified <span class="token punctuation">;</span>

<span class="token comment"># 查看spfile的位置</span>
<span class="token keyword">SQL</span><span class="token operator">&gt;</span> <span class="token keyword">show</span> parameter spfile<span class="token punctuation">;</span></code></pre>
<h3 class="atx" id="参数修改">参数修改</h3>
<blockquote>
<p>Oracle 本身有大量参数，但绝大部分参数， Oracle 都定有默认值，即使不去设置，对数据库的运行不会有任何影响。只有哪些没有默认值的参数，或者是默认值不合适的参数，才需要在参数文件中设定。也只有当你更改过某参数的值后，参数文件才会包含这个参数。对于哪些从来没有更改过的，参数文件中并不包括它们。</p>
</blockquote>
<ul>
<li>ALTER SYSTEM set</li>
</ul>
<pre><code class="fenced-code-block language-sql"><span class="token comment"># 参数名可以对应多个参数值</span>
parameter_name<span class="token operator">=</span>parameter_value<span class="token punctuation">,</span> parameter_value1
<span class="token comment"># 修改undo_retention注释</span>
<span class="token keyword">comment</span><span class="token operator">=</span><span class="token string">'string'</span>
<span class="token comment"># 选择修改的地点,默认为both</span>
scope<span class="token operator">=</span><span class="token punctuation">[</span>spfile<span class="token operator">|</span>memory<span class="token operator">|</span>both<span class="token punctuation">]</span>
<span class="token comment"># 指定实例,默认为*</span>
sid<span class="token operator">=</span><span class="token punctuation">[</span><span class="token string">'*'</span><span class="token operator">|</span><span class="token string">'sid'</span><span class="token punctuation">]</span></code></pre>
<ul>
<li>ALTER SYSTEM reset</li>
</ul>
<pre><code class="fenced-code-block language-sql"><span class="token keyword">alter</span> system reset parameter_name scope<span class="token operator">=</span>spfile sid<span class="token operator">=</span><span class="token string">'*'</span><span class="token punctuation">;</span></code></pre>
<h3 class="atx" id="spfile与pfile互相备份">spfile与pfile互相备份</h3>
<ul>
<li>从spfile生成pfile</li>
</ul>
<pre><code class="fenced-code-block language-sql"><span class="token keyword">SQL</span><span class="token operator">&gt;</span> <span class="token keyword">CREATE</span> PFILE<span class="token operator">=</span>‘路径<span class="token operator">/</span>pfile名字’ <span class="token keyword">FROM</span> SPFILE<span class="token operator">=</span>‘路径<span class="token operator">/</span>spfile名字'<span class="token punctuation">;</span>
<span class="token comment"># 上面的 PFILE 和 SPFILE 后都可以省略路径和名字，Oracle会按默认的位置，默认的名字进行操作。</span>
<span class="token keyword">SQL</span><span class="token operator">&gt;</span> <span class="token keyword">create</span> pfile <span class="token keyword">from</span> spfile<span class="token punctuation">;</span></code></pre>
<ul>
<li>从pfile生成spfile</li>
</ul>
<pre><code class="fenced-code-block language-sql"><span class="token keyword">SQL</span><span class="token operator">&gt;</span> <span class="token keyword">CREATE</span> SPFILE<span class="token operator">=</span>‘路径<span class="token operator">/</span>spfile名字’ <span class="token keyword">FROM</span> PFILE<span class="token operator">=</span>‘路径<span class="token operator">/</span>pfile名字'<span class="token punctuation">;</span>
<span class="token comment"># 上面的 PFILE 和 SPFILE 后都可以省略路径和名字，Oracle会按默认的位置，默认的名字进行操作。</span>
<span class="token keyword">SQL</span><span class="token operator">&gt;</span> <span class="token keyword">create</span> spfile <span class="token keyword">from</span> pfile<span class="token punctuation">;</span></code></pre>
<ul>
<li><p>注意：</p>
<ul>
<li><p>在数据库实例启动状态，最好不要生成spfile，因为又可能随时修改参数，这样会导致报错。</p>
</li>
<li><p>spfile和pfile的互相备份在实例关闭下都可以进行，只要以sysdba连接登录即可。
sqlplus / as sysdba</p>
</li>
</ul>
</li>
</ul>
<h2 class="atx" id="2-告警日志">2. 告警日志</h2>
<ul>
<li><p>DBA最常用的告警日志: alert_SID.log</p>
<ul>
<li><p>在数据库启动时, 在NOMOUNT阶段便会打开它; 如果文件不存在, 会在NOMOUNT阶段由Oracle自动创建</p>
</li>
<li><p>Oracle会将一些警告, 错误信息, 或认为重要的信息写入告警日志</p>
</li>
<li><p>位置由初始化参数background_dump_dest决定</p>
</li>
<li><p>普通文本文件</p>
</li>
<li><p>包含Oracle认为DBA应该知道的信息</p>
</li>
</ul>
</li>
<li><p>包含的信息</p>
<ul>
<li><p>数据库启动或关闭的时间</p>
</li>
<li><p>所有非缺省初始化参数的列表</p>
</li>
<li><p>后台进程的启动</p>
</li>
<li><p>实例使用的线程</p>
</li>
<li><p>正在向其中写入信息的日志序列号</p>
</li>
<li><p>有关日志切换的信息</p>
</li>
<li><p>表空间的创建和回滚段的创建</p>
</li>
<li><p>已发出的警报声明</p>
</li>
<li><p>有关ORA-600等错误消息和区错误的信息</p>
</li>
</ul>
</li>
<li><p>查看告警文件位置</p>
<pre><code class="fenced-code-block language-sql"><span class="token keyword">SQL</span><span class="token operator">&gt;</span> <span class="token keyword">SELECT</span> name<span class="token punctuation">,</span><span class="token keyword">value</span> <span class="token keyword">FROM</span> V$DIAG_INFO</code></pre>
</li>
</ul>
<h2 class="atx" id="3-跟踪文件">3. 跟踪文件</h2>
<blockquote>
<p>普通文本文件</p>
<p>最大大小由初始化参数 max_dump_file_size 限制。如果此参数定为 100M。那么单个用户跟踪文件的最大大小不会超过 100M。多余部分将会被截断。此参数也可以设置为“<strong>UNLIMITED</strong>”，即，不限大小。另外，告警日志的大小，不受此参数控制。在告警日志里面会有跟踪文件的信息，这部分跟踪文件协助告警日志显示问题。</p>
</blockquote>
<h3 class="atx" id="后台进程的跟踪文件">后台进程的跟踪文件</h3>
<ul>
<li>位置和告警文件一样, 主要记录后台进程的一些信息</li>
</ul>
<h3 class="atx" id="用户的跟踪文件">用户的跟踪文件</h3>
<ul>
<li><p>位置由初始化参数 user_dump_dest 决定</p>
</li>
<li><p>由服务器进程生成, 记录一些用户运行相关的信息, 如用户所执行的SQL语句的相关信息</p>
</li>
</ul>
<h3 class="atx" id="跟踪文件的生成">跟踪文件的生成</h3>
<ul>
<li><p>${ORACLE_SID} _ora _ {OS_PROCESS}.trc</p>
<pre><code class="fenced-code-block language-sql"><span class="token comment"># 查看当前实例的sid</span>
<span class="token keyword">SQL</span><span class="token operator">&gt;</span> <span class="token keyword">select</span> <span class="token keyword">distinct</span> sid <span class="token keyword">from</span> v$mystat<span class="token punctuation">;</span>
<span class="token comment"># 查看sid对应的进程号</span>
<span class="token keyword">SQL</span><span class="token operator">&gt;</span> <span class="token keyword">select</span> s<span class="token punctuation">.</span>sid<span class="token punctuation">,</span>p<span class="token punctuation">.</span>spid <span class="token string">"OS_PROCESS"</span> <span class="token keyword">from</span> v$<span class="token keyword">session</span> s<span class="token punctuation">,</span>v$process p <span class="token keyword">where</span> s<span class="token punctuation">.</span>paddr<span class="token operator">=</span>p<span class="token punctuation">.</span>addr <span class="token operator">and</span> s<span class="token punctuation">.</span>sid<span class="token operator">=</span><span class="token number">1137</span><span class="token punctuation">;</span></code></pre>
</li>
</ul>
<h3 class="atx" id="10046事件跟踪sql语句">10046事件跟踪SQL语句</h3>
<pre><code class="fenced-code-block language-sql"><span class="token keyword">SQL</span><span class="token operator">&gt;</span> <span class="token keyword">alter</span> <span class="token keyword">session</span> <span class="token keyword">set</span> events <span class="token string">'10046 trace name context forever,level 4'</span><span class="token punctuation">;</span>
<span class="token comment"># 跟踪会话级别</span>
<span class="token comment"># # level 0:关闭跟踪</span>
<span class="token comment"># # level 1:跟踪SQL语句,等于sql_trace=true,默认</span>
<span class="token comment"># # level 4:包括变量的详细信息</span>
<span class="token comment"># # level 8:包括等待事件</span>
<span class="token comment"># # level 12:包括绑定变量与等待事件, 4+8</span></code></pre>
<h2 class="atx" id="4-附加">4. 附加</h2>
<blockquote>
<p>从11g开始,alert文件的格式发生了变化, 除了原有的文本格式之外还增加了XML格式.</p>
<p>告警日志文件的储存位置还受到一个新参数的影响, diagnostic_dest</p>
<p>diagnostic_dest时11g的新特性自动诊断库(Automatic Diagnostic Repository, ADR)的设置,该目录用于存放数据库诊断日志、跟踪文件等, 通常称为ADR base, 该参数和环境变量ORACLE_BASE有关:</p>
<p>设置了ORACLE_BASE, 则 DIAGNOSTIC_DEST=ORACLE_BASE</p>
<p>未设置ORACLE_BASE, 则 DIAGNOSTIC_DEST=ORACLE_HOME/log</p>
<p>查询v$diga_info视图可以获得跟踪诊断的相关信息, 其中"Default Trace File"指出跟踪文件的可能名称:</p>
<p>SQL&gt; select name,value from v$diag_info;</p>
</blockquote>
<h1 class="atx" id="五-网络配置">五. 网络配置</h1>
<h2 class="atx" id="1-oracle-net-service">1. Oracle Net Service</h2>
<h3 class="atx" id="oracle-net-services">Oracle Net Services</h3>
<ul>
<li><p>建立从客户机或中间层应用程序到 Oracle 服务器的网络连接。</p>
</li>
<li><p>建立网络会话之后，Oracle Net 充当客户机应用程序与数据库服务器的中间代理人。它负责建立并维护客户机应用程序和数据库服务器之间的连接，以及在二者之间交换消息。</p>
</li>
<li><p>Oracle Net 或 Oracle Net 的模拟程序，如 Java 数据库连接 (JDBC)，位于需要与数据库服务器建立会话的每台计算机上。</p>
</li>
<li><p>在客户机计算机上，Oracle Net 是一个用于连接到数据库的后台组件。</p>
</li>
<li><p>在数据库服务器上，Oracle Net 包括一个称为监听程序的活动进程</p>
</li>
</ul>
<h3 class="atx" id="oracle-net-listener">Oracle Net Listener</h3>
<ul>
<li><p>负责协调数据库与外部应用程序之间的连接。</p>
</li>
<li><p>是所有非本地用户连接到 Oracle 实例的网关。</p>
</li>
<li><p>单个监听程序可用于多个数据库实例以及成千上万个客户机连接。</p>
</li>
</ul>
<h2 class="atx" id="2-创建oracle-net-listener">2. 创建Oracle Net Listener</h2>
<h3 class="atx" id="enterprise-manager：">Enterprise Manager：</h3>
<p>提供了配置和管理 Oracle Net Services 的集成环境。
使用 Enterprise Manager 可在跨多个文件系统的任何 Oracle 主目录中配置 Oracle Net Services，</p>
<h3 class="atx" id="oracle-net-manager：">Oracle Net Manager：</h3>
<p>启动命令 netmgr
提供一个图形用户界面 (GUI) ，通过这个界面可在本地客户机或
服务器主机的 Oracle 主目录中配置 Oracle Net Services。
net manager有三个部分组成：</p>
<ul>
<li><p>profile：
设置可以在oracle net客户端和服务器端使用的oracle选项，并且能够影响所有oracle net连接的行为。例如，配置oracle net跟踪。此分支配置完后在$ORACLE_HOME/network/admin下生成sqlnet.ora文件。</p>
</li>
<li><p>service naming：配置客户端名称解析。</p>
</li>
<li><p>listeners：配置监听。</p>
</li>
</ul>
<h3 class="atx" id="oracle-net-configuration-assistant：">Oracle Net Configuration Assistant：</h3>
<p>启动命令 netca
安装 Oracle 软件时通过 Oracle Universal Installer 来启动。
使用 Oracle Net Configuration Assistant 可配置 Oracle 数据库的监听协议地址和服务信息。</p>
<h3 class="atx" id="命令行：">命令行：</h3>
<p>用于启动、停止监听程序进程或查看监听程序进程的状态。
由操作系统用户（在本程中为 Oracle）启动或停止监听程序。
如果未启动监听程序，则不能使用 Enterprise Manager。</p>
<h3 class="atx" id="netca与netmgr">netca与netmgr</h3>
<p>一个监听器可以监听多个地址</p>
<p>netca只能配置监听一个地址：只有配完一个监听后才能对另一个监听进行向导配置</p>
<p>netmgr允许为一个监听器配置多个监听地址</p>
<h3 class="atx" id="监听应用程序lsnrctl">监听应用程序lsnrctl</h3>
<ul>
<li><p>作用</p>
<ul>
<li><p>启动与停止监听程序</p>
</li>
<li><p>检查监听程序的状态</p>
</li>
<li><p>根据配置文件参数重新初始化监听程序</p>
</li>
<li><p>动态配置多个监听程序</p>
</li>
<li><p>更改监听程序口令</p>
</li>
</ul>
</li>
<li><p>语法</p>
<pre><code class="fenced-code-block language-shell"><span class="token comment"># 启动监听</span>
lsnrctl start <span class="token punctuation">[</span>listen_name<span class="token punctuation">]</span>
<span class="token comment"># 停止监听</span>
lsnrctl stop <span class="token punctuation">[</span>listen_name<span class="token punctuation">]</span>
<span class="token comment"># 查看监听</span>
lsnrctl status <span class="token punctuation">[</span>listen_name<span class="token punctuation">]</span>
<span class="token comment"># 查看连接</span>
lsnrctl <span class="token function">service</span> <span class="token punctuation">[</span>listen_name<span class="token punctuation">]</span></code></pre>
</li>
<li><p>服务的状态</p>
<ul>
<li><p>ready : 动态监听</p>
</li>
<li><p>unknown : 静态监听</p>
</li>
</ul>
</li>
</ul>
<h2 class="atx" id="3-动态监听与静态监听">3. 动态监听与静态监听</h2>
<h3 class="atx" id="动态监听">动态监听</h3>
<ul>
<li><p>可以随时监听到实例是否开启, 只有在实例开启时监听才会注册</p>
</li>
<li><p>缺省情况</p>
<pre><code class="fenced-code-block language-shell">LISTENER <span class="token operator">=</span>
  <span class="token punctuation">(</span>DESCRIPTION <span class="token operator">=</span>
    <span class="token punctuation">(</span>ADDRESS <span class="token operator">=</span> <span class="token punctuation">(</span>PROTOCOL <span class="token operator">=</span> TCP<span class="token punctuation">)</span><span class="token punctuation">(</span>HOST <span class="token operator">=</span> node1<span class="token punctuation">)</span><span class="token punctuation">(</span>PORT <span class="token operator">=</span> <span class="token number">1521</span><span class="token punctuation">))</span>
  <span class="token punctuation">)</span>

ADR_BASE_LISTENER <span class="token operator">=</span> /oracle</code></pre>
</li>
<li><p>修改端口</p>
</li>
</ul>
<pre><code class="fenced-code-block language-shell"><span class="token comment"># 停掉监听</span>
lsnrctl stop
<span class="token comment"># 修改监听配置文件中的端口</span>
<span class="token function">vim</span> listener.ora

LISTENER <span class="token operator">=</span>
  <span class="token punctuation">(</span>DESCRIPTION <span class="token operator">=</span>
    <span class="token punctuation">(</span>ADDRESS <span class="token operator">=</span> <span class="token punctuation">(</span>PROTOCOL <span class="token operator">=</span> TCP<span class="token punctuation">)</span><span class="token punctuation">(</span>HOST <span class="token operator">=</span> node1<span class="token punctuation">)</span><span class="token punctuation">(</span>PORT <span class="token operator">=</span> <span class="token number">1523</span><span class="token punctuation">))</span>
  <span class="token punctuation">)</span>

ADR_BASE_LISTENER <span class="token operator">=</span> /oracle
<span class="token comment"># sys登录数据库,修改local_listener参数值</span>
SQL<span class="token operator">&gt;</span> alter system <span class="token builtin class-name">set</span> <span class="token assign-left variable">local_listener</span><span class="token operator">=</span><span class="token string">"(address=(protocol=tcp)(host=192.168.56.102)(port=1523))"</span><span class="token punctuation">;</span>
<span class="token comment"># 查看参数是否修改</span>
SQL<span class="token operator">&gt;</span> show parameter local_listener<span class="token punctuation">;</span>
<span class="token comment"># 退出数据库启动监听</span>
lsnrctl start
<span class="token comment"># 查看监听服务(启动有延时)</span>
lsnrctl <span class="token function">service</span>
<span class="token comment"># 服务摘要显示后登陆数据库</span>
sqlplus scott/tiger@192.168.56.102:1523/zzdb1</code></pre>
<p><img alt="" src="file:///D:/Documents/Oracle%E8%BF%90%E7%BB%B4%E5%AE%9E%E6%88%98/assets/2021-12-03-14-49-16-image.png"></p>
<p><img alt="" src="file:///D:/Documents/Oracle%E8%BF%90%E7%BB%B4%E5%AE%9E%E6%88%98/assets/2021-12-03-14-47-16-image.png"></p>
<p><img alt="" src="file:///D:/Documents/Oracle%E8%BF%90%E7%BB%B4%E5%AE%9E%E6%88%98/assets/2021-12-03-14-48-25-image.png"></p>
<h3 class="atx" id="静态监听">静态监听</h3>
<ul>
<li><p>不能像动态监听一样随时知道实例是否打开</p>
</li>
<li><p>可以在实例未打开的时候通过静态监听远程登录管理员打开实例(方便用在服务器端无人看顾的情况下)</p>
</li>
<li><p>local_listener参数缺省情况下, 静态监听端口设置为1521会同时存在静态监听和动态监听</p>
</li>
<li><p>设置完全的静态监听 :</p>
<pre><code class="fenced-code-block language-shell"><span class="token comment"># 配置文件中增加数据库相关信息以及修改端口</span>
<span class="token function">vim</span> listener.ora

SID_LIST_LISTENER <span class="token operator">=</span>
  <span class="token punctuation">(</span>SID_LIST <span class="token operator">=</span>
    <span class="token punctuation">(</span>SID_DESC <span class="token operator">=</span>
      <span class="token punctuation">(</span>GLOBAL_DBNAME <span class="token operator">=</span> zzdb1<span class="token punctuation">)</span>
      <span class="token punctuation">(</span>ORACLE_HOME <span class="token operator">=</span> /oracle/product/11.2.0/db_1<span class="token punctuation">)</span>
      <span class="token punctuation">(</span>SID_NAME <span class="token operator">=</span> zzdb1<span class="token punctuation">)</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">)</span>
LISTENER <span class="token operator">=</span>
  <span class="token punctuation">(</span>DESCRIPTION <span class="token operator">=</span>
    <span class="token punctuation">(</span>ADDRESS <span class="token operator">=</span> <span class="token punctuation">(</span>PROTOCOL <span class="token operator">=</span> TCP<span class="token punctuation">)</span><span class="token punctuation">(</span>HOST <span class="token operator">=</span> node1<span class="token punctuation">)</span><span class="token punctuation">(</span>PORT <span class="token operator">=</span> <span class="token number">1522</span><span class="token punctuation">))</span>
 <span class="token punctuation">)</span>
ADR_BASE_LISTENER <span class="token operator">=</span> /oracle
<span class="token comment"># 启动监听</span>
 lsnrctl start
<span class="token comment"># 连接数据库</span>
sqlplus scott/tiger@192.168.56.102:1522/zzdb1</code></pre>
</li>
</ul>
<p><img alt="" src="file:///D:/Documents/Oracle%E8%BF%90%E7%BB%B4%E5%AE%9E%E6%88%98/assets/2f0c8f7f141836741e404fbdd299e85c1b6767d2.png"></p>
<p><img alt="" src="file:///D:/Documents/Oracle%E8%BF%90%E7%BB%B4%E5%AE%9E%E6%88%98/assets/cc15aae54300eb39be0ac220094b7a802e666547.png"></p>
<h2 class="atx" id="4-服务名">4. 服务名</h2>
<ul>
<li><p>可以把服务理解为一组相似的逻辑组合, 即分组.</p>
</li>
<li><p>举例 :
对于一个典型的销售企业的业务系统来说，可以大致分为销售、采购、财务和人事这四大业务部门。那么从数据库的角度来说，就可以划分成对应的四个服务名：sales（销售）、pur（采购）、fin（财务）和hr（人事）。处理销售相关业务的人员全都连接到sales服务上进行操作而处理采购业务的人员则全部连接到pur服务上进行操作</p>
</li>
<li><p>通过这种方式，我们对数据库的活动分了组，从而可以<strong>更好的进行跟踪和调优</strong>的工作。</p>
</li>
</ul>
<pre><code class="fenced-code-block language-sql"><span class="token comment"># 查看默认的服务名</span>
<span class="token keyword">SQL</span><span class="token operator">&gt;</span> <span class="token keyword">show</span> parameter service_names
<span class="token comment"># 该参数可以动态修改，并且可以指定多个值，也就是多个服务名，每个服务名之间用逗号隔开。</span>
<span class="token comment"># 设置服务名</span>
<span class="token keyword">SQL</span><span class="token operator">&gt;</span> <span class="token keyword">alter</span> system <span class="token keyword">set</span> service_names<span class="token operator">=</span><span class="token string">'orcl,zzdb'</span><span class="token punctuation">;</span>
<span class="token comment"># 根据服务名登录</span>
<span class="token comment"># sqlplus scott/tiger@zzdb1</span></code></pre>
</article>
</body>
</html>